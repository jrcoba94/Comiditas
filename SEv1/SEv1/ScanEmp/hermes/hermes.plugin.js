function updateScroll(a){var b=document.getElementById(a);b.scrollTop=b.scrollHeight}!function(a){a.fn.hermes=function(b){var c=a.extend({key:1,title:"Hermes Chat",log:!0,css:!1},b),d='<div id="messageContainer">\n	<div id="messageHeader">\n		<span id="messageHeaderTitle">'+c.title+'</span>		<span class="closeButton"></span>		<div class="credits"><a href="http://soldai.com" target="_blank">Powered by SoldAI</a></div>	</div>\n	<div id="messageBody">		<div id="messageText"></div>\n		<div id="messageInput">			<input type="text" id="message" name="message" autocomplete="off" style="width:85%" /><button id="start_button" onclick="startButton(event)" ><img id="start_img" src="http://soldai.com/mic.gif" alt="Start"></button>\n		</div>	</div></div>';c.css||a("head").append('<link rel="stylesheet" type="text/css" href="http://soldai.com/api_files/chat-widget.css" />'),a("body").append(d),a("body").append('<script src="http://soldai.com/api_files/speech_chat.js"></script>'),this.click(function(b){b.preventDefault(),"none"==a("#messageContainer").css("display")?(a("#messageContainer").show(),a("#messageBody").show()):a("#messageContainer").hide()}),a("#message").bind("enterKey",function(b){a("#message").prop("disabled",!0),a.ajaxSetup({xhrFields:{withCredentials:!0}});a.ajax({url:"http://soldai.com/hermes/api/hacerPregunta",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{key:c.key,log:c.log,q:a("#message").val()},method:"get",dataType:"text",success:function(b){return a("<div>",{"class":"messages user"}).text(a("#message").val()).appendTo("#messageText"),a("<div>",{"class":"messages hermes"}).html(b).appendTo("#messageText"),a("#message").val(""),a("#message").prop("disabled",!1).focus(),updateScroll("messageText"),b},error:function(b){var c="<div>Hubo un error al enviar la pregunta, por favor intenta de nuevo m√°s tarde.</div>";a("#messageText").append(c),updateScroll("messageText")}})}),a("#message").keyup(function(b){13==b.keyCode&&""!=a("#message").val().trim()&&a(this).trigger("enterKey")}),a("#messageHeader").click(function(){"none"==a("#messageBody").css("display")?a("#messageBody").show():a("#messageBody").hide()}),a(".closeButton").click(function(){a("#messageContainer").hide()})}}(jQuery);